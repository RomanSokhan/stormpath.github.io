
<head>
  <title>Stormpath Flask Quickstart | Stormpath</title>
  <link href="https://stormpath.com/wp-content/uploads/2016/03/favicon.png" type="image/png" rel="icon">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./stylesheets/bootstrap.css">
  <script src="./javascripts/jquery.min.js"></script>
  <script src="https://use.fontawesome.com/09e9e238a7.js"></script>
  <script src="./javascripts/bootstrap.min.js"></script>
  <script src="./javascripts/easyResponsiveTabs.js"></script>
  <link rel="stylesheet" type="text/css" href="./stylesheets/bootstrap-grid.css">
  <link rel="stylesheet" type="text/css" href="./stylesheets/easy-responsive-tabs.css">
  <link rel="stylesheet" type="text/css" href="./stylesheets/style-sheet.css">
  <link rel="stylesheet" type="text/css" href="./stylesheets/responsive.css">
</head>

<body  class="not-front  node-type-documentation  ">
<!-- Google Tag Manager -->
<noscript><iframe src=".//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NQZZFW');</script>
<!-- End Google Tag Manager -->

<!-- Start of stormpath Zendesk Widget script -->
<script>/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","stormpath.zendesk.com");
/*]]>*/</script>
<!-- End of stormpath Zendesk Widget script -->


<script src="./javascripts/stormpath_docs.js"></script>
<script type="text/javascript">
	var sp_docs_menu = {};
	
		sp_docs_menu['dotnet'] = [];
		
	
		sp_docs_menu['_includes'] = [];
		
	
		sp_docs_menu['stylesheets'] = [];
		
	
		sp_docs_menu['java'] = [];
		
			sp_docs_menu['java'].push('product-guide');
		
			sp_docs_menu['java'].push('quickstart');
		
	
		sp_docs_menu['angularjs'] = [];
		
	
		sp_docs_menu['rest'] = [];
		
			sp_docs_menu['rest'].push('product-guide');
		
			sp_docs_menu['rest'].push('api');
		
			sp_docs_menu['rest'].push('quickstart');
		
	
		sp_docs_menu['assets'] = [];
		
	
		sp_docs_menu['vbnet'] = [];
		
	
		sp_docs_menu['home'] = [];
		
	
		sp_docs_menu['express'] = [];
		
			sp_docs_menu['express'].push('quickstart');
		
	
		sp_docs_menu['apache'] = [];
		
	
		sp_docs_menu['php'] = [];
		
			sp_docs_menu['php'].push('product-guide');
		
			sp_docs_menu['php'].push('quickstart');
		
	
		sp_docs_menu['_layouts'] = [];
		
	
		sp_docs_menu['guides'] = [];
		
			sp_docs_menu['guides'].push('multi-tenant');
		
			sp_docs_menu['guides'].push('api-key-management');
		
			sp_docs_menu['guides'].push('social-integrations');
		
			sp_docs_menu['guides'].push('token-management');
		
			sp_docs_menu['guides'].push('ad-ldap');
		
			sp_docs_menu['guides'].push('dev-test-prod-environments');
		
			sp_docs_menu['guides'].push('using-id-site');
		
	
		sp_docs_menu['integrations'] = [];
		
	
		sp_docs_menu['android'] = [];
		
	
		sp_docs_menu['errors'] = [];
		
			sp_docs_menu['errors'].push('7200');
		
			sp_docs_menu['errors'].push('10010');
		
			sp_docs_menu['errors'].push('11001');
		
			sp_docs_menu['errors'].push('4002');
		
			sp_docs_menu['errors'].push('5103');
		
			sp_docs_menu['errors'].push('7103');
		
			sp_docs_menu['errors'].push('10016');
		
			sp_docs_menu['errors'].push('9004');
		
			sp_docs_menu['errors'].push('10014');
		
			sp_docs_menu['errors'].push('2101');
		
			sp_docs_menu['errors'].push('2009');
		
			sp_docs_menu['errors'].push('10015');
		
			sp_docs_menu['errors'].push('9006');
		
			sp_docs_menu['errors'].push('6100');
		
			sp_docs_menu['errors'].push('10101');
		
			sp_docs_menu['errors'].push('2005');
		
			sp_docs_menu['errors'].push('10013');
		
			sp_docs_menu['errors'].push('2103');
		
			sp_docs_menu['errors'].push('5108');
		
			sp_docs_menu['errors'].push('7104');
		
			sp_docs_menu['errors'].push('5100');
		
			sp_docs_menu['errors'].push('5102');
		
			sp_docs_menu['errors'].push('2016');
		
			sp_docs_menu['errors'].push('1101');
		
			sp_docs_menu['errors'].push('2003');
		
			sp_docs_menu['errors'].push('3004');
		
			sp_docs_menu['errors'].push('5104');
		
			sp_docs_menu['errors'].push('11002');
		
			sp_docs_menu['errors'].push('7201');
		
			sp_docs_menu['errors'].push('10012');
		
			sp_docs_menu['errors'].push('6101');
		
			sp_docs_menu['errors'].push('7202');
		
			sp_docs_menu['errors'].push('7101');
		
			sp_docs_menu['errors'].push('9000');
		
			sp_docs_menu['errors'].push('4001');
		
			sp_docs_menu['errors'].push('11005');
		
			sp_docs_menu['errors'].push('5106');
		
			sp_docs_menu['errors'].push('7100');
		
			sp_docs_menu['errors'].push('9001');
		
			sp_docs_menu['errors'].push('2106');
		
			sp_docs_menu['errors'].push('2105');
		
			sp_docs_menu['errors'].push('2010');
		
			sp_docs_menu['errors'].push('2018');
		
			sp_docs_menu['errors'].push('2012');
		
			sp_docs_menu['errors'].push('11004');
		
			sp_docs_menu['errors'].push('5114');
		
			sp_docs_menu['errors'].push('2015');
		
			sp_docs_menu['errors'].push('2107');
		
			sp_docs_menu['errors'].push('2000');
		
			sp_docs_menu['errors'].push('2002');
		
			sp_docs_menu['errors'].push('2017');
		
			sp_docs_menu['errors'].push('5112');
		
			sp_docs_menu['errors'].push('6202');
		
			sp_docs_menu['errors'].push('11003');
		
			sp_docs_menu['errors'].push('6201');
		
			sp_docs_menu['errors'].push('2008');
		
			sp_docs_menu['errors'].push('2001');
		
			sp_docs_menu['errors'].push('2104');
		
			sp_docs_menu['errors'].push('2007');
		
			sp_docs_menu['errors'].push('5110');
		
			sp_docs_menu['errors'].push('1902');
		
			sp_docs_menu['errors'].push('3003');
		
			sp_docs_menu['errors'].push('2004');
		
			sp_docs_menu['errors'].push('10017');
		
			sp_docs_menu['errors'].push('10011');
		
			sp_docs_menu['errors'].push('10102');
		
			sp_docs_menu['errors'].push('2006');
		
			sp_docs_menu['errors'].push('9003');
		
			sp_docs_menu['errors'].push('5010');
		
			sp_docs_menu['errors'].push('3000');
		
			sp_docs_menu['errors'].push('7102');
		
			sp_docs_menu['errors'].push('2013');
		
			sp_docs_menu['errors'].push('10100');
		
			sp_docs_menu['errors'].push('2102');
		
			sp_docs_menu['errors'].push('2100');
		
			sp_docs_menu['errors'].push('3002');
		
			sp_docs_menu['errors'].push('5101');
		
			sp_docs_menu['errors'].push('3001');
		
			sp_docs_menu['errors'].push('9005');
		
			sp_docs_menu['errors'].push('2011');
		
			sp_docs_menu['errors'].push('2014');
		
			sp_docs_menu['errors'].push('9002');
		
	
		sp_docs_menu['flask'] = [];
		
			sp_docs_menu['flask'].push('quickstart');
		
	
		sp_docs_menu['angular'] = [];
		
	
		sp_docs_menu['how-do-i'] = [];
		
	
		sp_docs_menu['python'] = [];
		
			sp_docs_menu['python'].push('product-guide');
		
			sp_docs_menu['python'].push('quickstart');
		
			sp_docs_menu['python'].push('apidocs');
		
	
		sp_docs_menu['ios'] = [];
		
	
		sp_docs_menu['csharp'] = [];
		
	
		sp_docs_menu['react'] = [];
		
	
		sp_docs_menu['console'] = [];
		
			sp_docs_menu['console'].push('product-guide');
		
			sp_docs_menu['console'].push('quickstart');
		
	
		sp_docs_menu['sample-apps'] = [];
		
	
		sp_docs_menu['nodejs'] = [];
		
			sp_docs_menu['nodejs'].push('quickstart');
		
	
		sp_docs_menu['ruby'] = [];
		
			sp_docs_menu['ruby'].push('product-guide');
		
			sp_docs_menu['ruby'].push('quickstart');
		
	
		sp_docs_menu['nginx'] = [];
		
	
		sp_docs_menu['images'] = [];
		
	
		sp_docs_menu['javascripts'] = [];
		
	
		sp_docs_menu['go'] = [];
		
	
		sp_docs_menu['client-api'] = [];
		
	
</script>

<div id="page">
    <div class="fixed-header" id="wrap">
      Included file 'custom/header.html' not found in _includes directory

      
      
    </div>

<!--
  <div id="header-wrapper">
  	<header id="header" role="banner" class="container">
      <header class="main-navbar">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container main-navbar-container">
      <div class="navbar-header-container">
        <div class="navbar-header">
          <a href="https://stormpath.com" class="standard-logo main-nav-logo" data-dark-logo="https://stormpath.com/wp-content/uploads/2016/03/stormpath-logo.png"><img src="https://stormpath.com/wp-content/uploads/2016/03/stormpath-logo.png" alt="Stormpath Logo"></a>
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapsable" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
      </div>
      <div class="collapse navbar-collapse" id="main-navbar-collapsable">
        <ul class="nav navbar-nav main-navbar__links">
          <li class="menu-item menu-item-type-custom menu-item-object-custom">
            <a class="main-navbar__link" href="./">Docs</a>
          </li>
          <li class="product-parent menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
            <a class="dropdown-toggle main-navbar__link" href="https://stormpath.com/product" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Product <span class="caret"></span> </a>
            <ul class="sub-menu dropdown-menu">
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/authentication">Authentication</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/authorization">Authorization</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/profiles">Profiles</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/sso">Single Sign-On</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/token-auth">Token Auth</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/multi-tenant">Multi-Tenant</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/multi-factor">Two-Factor</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/social-login">Social</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/product/ad-ldap">AD/LDAP</a>
              </li>
            </ul>
          </li>
          <li class="product-parent menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
            <a class="dropdown-toggle main-navbar__link" href="https://stormpath.com/" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">More <span class="caret"></span> </a>
            <ul class="sub-menu dropdown-menu">
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://support.stormpath.com/">Support</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/about">About</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/resources">Resources</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://stormpath.com/blog">Blog</a>
              </li>
              <li class="menu-item menu-item-type-post_type menu-item-object-page">
                <a class="main-navbar__link" href="https://boards.greenhouse.io/stormpath#.Vv5BaJx97IU">Jobs</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li class="main-navbar__link menu-item menu-item-type-custom menu-item-object-custom">
            <a href="https://api.stormpath.com/login">Login</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

    </header>
  </div>-->
  <div id="main-wrapper">
    <div id="main">
      <div id="main-inner">
        <div id="main-inner-inner">
          <div id="content" class="column" role="main">
            <div class="col-md-11">
              <a id="main-content"></a>
              
                <h1 class="title" id="page-title">Stormpath Flask Quickstart</h1>
              
              <div class="sharing">

  <!-- AddThis Button BEGIN -->
  <div class="addthis_toolbox addthis_default_style addthis_16x16_style">
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_reddit"></a>
    <a class="addthis_button_hackernews"></a>
    <a class="addthis_button_google_plusone_share"></a>
    <a class="addthis_button_linkedin"></a>
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_email"></a>
  </div>
  <script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script>
  <script type="text/javascript" src=".//s7.addthis.com/js/300/addthis_widget.js#pubid="></script>
  <!-- AddThis Button END -->

</div>
            	<p>Welcome to Stormpath&rsquo;s Flask Quickstart!</p>

<p>This quickstart will get you up and running with Stormpath in about 10 minutes
and give you a good initial feel for the Stormpath Flask library.  During this
quickstart, you will do the following:</p>

<ul>
<li>Install the Flask-Stormpath library.</li>
<li>Create an API Key that allows you to make REST API calls with Stormpath.</li>
<li>Create a Stormpath Application.</li>
<li>Initialize the Flask-Stormpath library.</li>
<li>Register a new User Account.</li>
<li>Logout a user.</li>
<li>Force a user to be logged in to view content.</li>
<li>Log into your new User account.</li>
</ul>


<p>Stormpath also can do a lot more (<em>like Groups, Multitenancy, Social
Integration, and Security workflows</em>) which you can learn more about at the end
of this quickstart.</p>

<p>Let&rsquo;s get started!</p>

<hr />

<h2><a id="install-the-flask-stormpath-library"></a>Install the Flask-Stormpath Library</h2>

<div class='docs-note'><p>Flask-Stormpath only works with Python 2.7 currently.  Python 3.x support is in
progress.</p>
</div>


<p>You can install <a href="https://github.com/stormpath/stormpath-flask">Flask-Stormpath</a> using <a href="http://pip.readthedocs.org/en/latest/">pip</a>:</p>

<pre><code>$ pip install -U flask-stormpath
</code></pre>

<p>If that doesn&rsquo;t work, try this instead:</p>

<pre><code>$ easy_install -U flask-stormpath
</code></pre>

<p>Or, you can
<a href="https://github.com/stormpath/stormpath-flask/zipball/master">download the source code (ZIP)</a>,
extract it, then run:</p>

<pre><code>$ python setup.py install
</code></pre>

<p>You may need to run the above commands with <code>sudo</code> depending on your Python
setup.</p>

<hr />

<h2><a id="get-an-api-key"></a>Get an API Key</h2>

<p>All requests to Stormpath must be authenticated with an API Key.</p>

<ol>
<li><p>If you haven&rsquo;t already,
<a href="https://api.stormpath.com/register">Sign up for Stormpath here</a>.  You&rsquo;ll
be sent a verification email.</p></li>
<li><p>Click the link in the verification email.</p></li>
<li><p>Log in to the <a href="https://api.stormpath.com">Stormpath Admin Console</a> using
the email address and password you used to register with Stormpath.</p></li>
<li><p>Click the <strong>Create API Key</strong> or <strong>Manage Existing Keys</strong> button in the middle of the page.</p></li>
<li><p>Under <strong>Security Credentials</strong>, click <strong>Create API Key</strong>.</p>

<p>This will generate your API Key and download it to your computer as an
<code>apiKey.properties</code> file.  If you open the file in a text editor, you will
see something similar to the following:</p>

<pre><code> apiKey.id = 144JVZINOF5EBNCMG9EXAMPLE
 apiKey.secret = lWxOiKqKPNwJmSldbiSkEbkNjgh2uRSNAb+AEXAMPLE
</code></pre></li>
<li><p>Save this file in a secure location, such as your home directory, in a
hidden <code>.stormpath</code> directory. For example:</p>

<pre><code> $ mkdir ~/.stormpath
 $ mv ~/Downloads/apiKey.properties ~/.stormpath/
</code></pre></li>
<li><p>Change the file permissions to ensure only you can read this file.  For
example:</p>

<pre><code> $ chmod go-rwx ~/.stormpath/apiKey.properties
</code></pre></li>
</ol>


<p>The <code>apiKey.properties</code> file holds your API key information, and can be used to
easily authenticate with the Stormpath library.</p>

<hr />

<h2><a id="create-a-stormpath-application"></a>Create a Stormpath Application</h2>

<p>When working with Stormpath, you&rsquo;ll need to create an <code>Application</code>.  An
<code>Application</code> is Stormpath&rsquo;s name for a project.  If you&rsquo;re building a website
named &ldquo;dronewars.com&rdquo;, you&rsquo;d probably want to create a Stormpath <code>Application</code>
named &ldquo;dronewars&rdquo;.</p>

<p>To create an <code>Application</code>, visit your <a href="https://api.stormpath.com/ui/dashboard">Stormpath
Dashboard</a> then click the &ldquo;Applications&rdquo;
tab at the top of the screen.</p>

<p>Next, click the &ldquo;Register Application&rdquo; button.</p>

<p>In the name field, enter the value &ldquo;Flask Test&rdquo;.  You can leave the description
field blank.</p>

<p>Lastly, click the &ldquo;Save&rdquo; button to create your new <code>Application</code>.  This
<code>Application</code> will be used through the rest of this quickstart.</p>

<hr />

<h2><a id="create-a-flask-app"></a>Create a Flask App</h2>

<p>The first step to working with Flask-Stormpath is creating a basic Flask app.</p>

<p>Place the code below into a file named <code>app.py</code> anywhere on your system:</p>

<pre><code>from flask import Flask


app = Flask(__name__)
app.config['SECRET_KEY'] = 'xxx'


@app.route('/')
def home():
    return 'home page!'


@app.route('/secret')
def secret():
    return 'secret page!'


if __name__ == '__main__':
    app.run()
</code></pre>

<p>To start your new Flask app, open the terminal and run:</p>

<pre><code>$ python app.py
</code></pre>

<p>You can then test your two predefined views by visiting both:</p>

<ul>
<li><a href="http://localhost:5000">http://localhost:5000</a> and</li>
<li><a href="http://localhost:5000/secret">http://localhost:5000/secret</a></li>
</ul>


<div class='docs-note'><p>The <code>SECRET_KEY</code> variable is required by Flask to properly secure sessions.
Since Flask-Stormpath will handle user sessions for you, this variable needs to
be set to a long, random string.  <strong>Make sure you keep this information safe!</strong></p>
</div>




<div class='docs-tip'><p>If you want to see all the code from this tutorial in one file, check out this <a href="https://gist.github.com/rdegges/4e5bcc75417fbae3b274#file-app-py">Gist on GitHub</a>:  <a href="https://gist.github.com/rdegges/4e5bcc75417fbae3b274#file-app-py">https://gist.github.com/rdegges/4e5bcc75417fbae3b274#file-app-py</a></p>
</div>


<hr />

<h2><a id="specify-your-credentials"></a>Specify Your Credentials</h2>

<p>The next step is to add your Stormpath credentials to your Flask app.  You can
do this by adding the following code to your <code>app.py</code> file below the
<code>SECRET_KEY</code> definition above:</p>

<pre><code>app.config['STORMPATH_API_KEY_FILE'] = expanduser('~/.stormpath/apiKey.properties')
app.config['STORMPATH_APPLICATION'] = 'Flask Test'
</code></pre>

<p>You&rsquo;ll also need to add the following import to the top of your <code>app.py</code> file:</p>

<pre><code>from os.path import expanduser
</code></pre>

<p>The two config variables above tell Flask-Stormpath how to communicate with
Stormpath.</p>

<hr />

<h2><a id="initialize-flask-stormpath"></a>Initialize Flask-Stormpath</h2>

<p>To initialize Flask-Stormpath, you need to do two things:</p>

<p>Add the following import to the top of your <code>app.py</code> file:</p>

<pre><code>from flask.ext.stormpath import StormpathManager
</code></pre>

<p>Add the following line of code below your app config:</p>

<pre><code>stormpath_manager = StormpathManager(app)
</code></pre>

<p>This will initialize the Flask-Stormpath extension.</p>

<hr />

<h2><a id="register-a-new-user"></a>Register a New User</h2>

<p>Now that Flask-Stormpath is setup, let&rsquo;s register a new user!</p>

<p>To do this, visit <a href="http://localhost:5000/register">http://localhost:5000/register</a> &mdash; you should see a
registration page that looks like this:</p>

<p><img class="center-block" src="../../images/flask-registration-page.png" title="Flask Registration Page" alt="Flask Registration Page"/></p>

<p>Once you&rsquo;re at the registration page, enter your user information and create a
new user account!</p>

<p>By default, Flask-Stormpath ships with a registration and login page, with
sensible defaults.  This behavior is fully customizable.</p>

<p>Once you&rsquo;ve created an account, you&rsquo;ll be automatically redirected back to the
home page of your site.</p>

<div class='docs-note'><p>You probably noticed that you couldn’t register a user account without
specifying a sufficiently strong password.  This is because, by default,
Stormpath enforces certain password strength rules on your Stormpath
Directories.</p>

<p>If you’d like to change these password strength rules (or disable them), you can
do so easily by visiting the Stormpath dashboard, navigating to your user
Directory, then changing the &#8220;Password Strength Policy&#8221;.</p>
</div>


<hr />

<h2><a id="log-out-a-user"></a>Log out a User</h2>

<p>Now that we&rsquo;ve created a user, let&rsquo;s log our new user out.  To do this, visit
<a href="http://localhost:5000/logout">http://localhost:5000/logout</a> &mdash; you will then be logged out of your account and
returned to them home page once again.</p>

<p>Flask-Stormpath provides a built-in logout view which makes it easy to log users
out.</p>

<hr />

<h2><a id="create-a-restricted-view"></a>Create a Restricted View</h2>

<p>Next, we&rsquo;ll add authentication enforcement to one of our views.  In your
<code>app.py</code> file, add the following import to the top of your file:</p>

<pre><code>from flask.ext.stormpath import login_required
</code></pre>

<p>Then, directly above your <code>secret</code> view, add the <code>login_required</code> decorator &mdash;
this view should now look like:</p>

<pre><code>@app.route('/secret')
@login_required
def secret():
    return 'secret page!'
</code></pre>

<div class='docs-note'><p>Python decorators execute in-order.  The <code>login_required</code> decorator MUST be the
last decorator specified.</p>
</div>


<p>To test this out, restart your Flask web server then visit
<a href="http://localhost:5000/secret">http://localhost:5000/secret</a> &mdash; you should get redirected to a login page that
looks like this:</p>

<p><img class="center-block" src="../../images/flask-login-page.png" title="Flask Login Page" alt="Flask Login Page"/></p>

<h2><a id="log-a-user-into-their-account"></a>Log a User Into Their Account</h2>

<p>Now that we&rsquo;re at the login page, enter your user credentials, then log in.  You
should now be able to see the <code>secret</code> view!</p>

<p>Flask-Stormpath provides a very flexible login view by default, which allows you
to many things (including social login).</p>

<hr />

<h2><a id="final-code"></a>Final Code</h2>

<p>In the end, your Flask app should look like this:</p>

<pre><code>from os.path import expanduser

from flask import Flask
from flask.ext.stormpath import StormpathManager, login_required


app = Flask(__name__)
app.config['SECRET_KEY'] = 'xxx'
app.config['STORMPATH_API_KEY_FILE'] = expanduser('~/.stormpath/apiKey.properties')
app.config['STORMPATH_APPLICATION'] = 'Flask Test'

stormpath_manager = StormpathManager(app)


@app.route('/')
def home():
    return 'home page!'


@app.route('/secret')
@login_required
def secret():
    return 'secret page!'


if __name__ == '__main__':
    app.run()
</code></pre>

<hr />

<h2><a id="other-things-you-can-do-with-stormpath"></a>Other Things You Can Do with Stormpath</h2>

<p>In addition to user registration and login, Stormpath can do a lot more!</p>

<ul>
<li>Create and manage user groups.</li>
<li>Partition multi-tenant SaaS account data.</li>
<li>Simplify social login with providers like Google and Facebook.</li>
<li>Manage developer API keys and access tokens.</li>
<li>Verify new users via email.</li>
<li>Automatically provide secure password reset functionality.</li>
<li>Centralize your user store across multiple applications.</li>
</ul>


<hr />

<h2><a id="next-steps"></a>Next Steps</h2>

<p>We hope you found this Quickstart helpful!</p>

<p>You&rsquo;ve just scratched the surface of what you can do with Stormpath.  Want to
learn more?  Here are a few other helpful resources you can jump into.</p>

<ul>
<li>Dig in deeper with the <a href="http://flask-stormpath.readthedocs.org/en/latest/">Flask-Stormpath Docs</a>.</li>
<li><a href="https://stormpath.com/blog/build-a-flask-app-in-30-minutes/">Build a Flask app in 30 minutes</a>.</li>
<li>Learn to easily partition user data with our <a href="./guides/multi-tenant/">Guide to Building Multitenant SaaS Applications</a>.</li>
<li>Easily support Social Login with <a href="https://flask-stormpath.readthedocs.org/en/latest/product.html#use-google-login">Google</a> and <a href="https://flask-stormpath.readthedocs.org/en/latest/product.html#use-facebook-login">Facebook</a>.</li>
</ul>


              <div id="spread-word">
<hr>

<h2> Help Us Spread the Word </h2>

<p>Did you find this valuable?  If you've enjoyed playing with Stormpath or are excited about what we've built, please help us spread the world with a quick tweet or by just telling a friend.  Thank you!</p>

<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:title="Checkout Stormpath, it helps you set up complete user management in your application in minutes."
addthis:url="https://stormpath.com" >
  <a class="addthis_button_twitter"></a>
  <a class="addthis_button_reddit"></a>
  <a class="addthis_button_hackernews"></a>
  <a class="addthis_button_google_plusone_share"></a>
  <a class="addthis_button_linkedin"></a>
  <a class="addthis_button_facebook"></a>
  <a class="addthis_button_email"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script>
<script type="text/javascript" src=".//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f5ed709512978e9"></script>
<!-- AddThis Button END -->
<p>
</div>

            </div>
            <div class="col-md-12">
              <div id="bottom-wrapper">
               Included file 'bottom.html' not found in _includes directory
              </div>
            </div>
          </div>



<aside class="sidebars">
  
    <section class="region region-sidebar-first column sidebar">
      
<div id="block-stormpath-docs-languages" class="block block-stormpath-docs first odd">
 <form class="stormpath-docs-select-language" action="./docs/java/product-guide" method="post" id="stormpath-docs-language-form" accept-charset="UTF-8"><div><div class="form-item form-type-select form-item-language">
  <label for="edit-language">Language: </label>
 <select id="edit-language" name="language" class="form-select">
  
  
 	
    <option value="rest">REST API</option>
 	
    <option value="java">Java</option>
 	
    <option value="nodejs">Node.js</option>
 	
    <option value="python" selected>Python</option>
 	
    <option value="ruby">Ruby</option>
 	
    <option value="guides">Guides</option>
 	
    <option value="console">Admin Console</option>
 	
 </select>
</div>
<input type="hidden" name="form_id" value="stormpath_docs_language_form">
</div></form>
</div>

<script type="text/javascript">
	var sp_docs_menu = {};
	
		sp_docs_menu['dotnet'] = [];
		
	
		sp_docs_menu['_includes'] = [];
		
	
		sp_docs_menu['stylesheets'] = [];
		
	
		sp_docs_menu['java'] = [];
		
			sp_docs_menu['java'].push('product-guide');
		
			sp_docs_menu['java'].push('quickstart');
		
	
		sp_docs_menu['angularjs'] = [];
		
	
		sp_docs_menu['rest'] = [];
		
			sp_docs_menu['rest'].push('product-guide');
		
			sp_docs_menu['rest'].push('api');
		
			sp_docs_menu['rest'].push('quickstart');
		
	
		sp_docs_menu['assets'] = [];
		
	
		sp_docs_menu['vbnet'] = [];
		
	
		sp_docs_menu['home'] = [];
		
	
		sp_docs_menu['express'] = [];
		
			sp_docs_menu['express'].push('quickstart');
		
	
		sp_docs_menu['apache'] = [];
		
	
		sp_docs_menu['php'] = [];
		
			sp_docs_menu['php'].push('product-guide');
		
			sp_docs_menu['php'].push('quickstart');
		
	
		sp_docs_menu['_layouts'] = [];
		
	
		sp_docs_menu['guides'] = [];
		
			sp_docs_menu['guides'].push('multi-tenant');
		
			sp_docs_menu['guides'].push('api-key-management');
		
			sp_docs_menu['guides'].push('social-integrations');
		
			sp_docs_menu['guides'].push('token-management');
		
			sp_docs_menu['guides'].push('ad-ldap');
		
			sp_docs_menu['guides'].push('dev-test-prod-environments');
		
			sp_docs_menu['guides'].push('using-id-site');
		
	
		sp_docs_menu['integrations'] = [];
		
	
		sp_docs_menu['android'] = [];
		
	
		sp_docs_menu['errors'] = [];
		
			sp_docs_menu['errors'].push('7200');
		
			sp_docs_menu['errors'].push('10010');
		
			sp_docs_menu['errors'].push('11001');
		
			sp_docs_menu['errors'].push('4002');
		
			sp_docs_menu['errors'].push('5103');
		
			sp_docs_menu['errors'].push('7103');
		
			sp_docs_menu['errors'].push('10016');
		
			sp_docs_menu['errors'].push('9004');
		
			sp_docs_menu['errors'].push('10014');
		
			sp_docs_menu['errors'].push('2101');
		
			sp_docs_menu['errors'].push('2009');
		
			sp_docs_menu['errors'].push('10015');
		
			sp_docs_menu['errors'].push('9006');
		
			sp_docs_menu['errors'].push('6100');
		
			sp_docs_menu['errors'].push('10101');
		
			sp_docs_menu['errors'].push('2005');
		
			sp_docs_menu['errors'].push('10013');
		
			sp_docs_menu['errors'].push('2103');
		
			sp_docs_menu['errors'].push('5108');
		
			sp_docs_menu['errors'].push('7104');
		
			sp_docs_menu['errors'].push('5100');
		
			sp_docs_menu['errors'].push('5102');
		
			sp_docs_menu['errors'].push('2016');
		
			sp_docs_menu['errors'].push('1101');
		
			sp_docs_menu['errors'].push('2003');
		
			sp_docs_menu['errors'].push('3004');
		
			sp_docs_menu['errors'].push('5104');
		
			sp_docs_menu['errors'].push('11002');
		
			sp_docs_menu['errors'].push('7201');
		
			sp_docs_menu['errors'].push('10012');
		
			sp_docs_menu['errors'].push('6101');
		
			sp_docs_menu['errors'].push('7202');
		
			sp_docs_menu['errors'].push('7101');
		
			sp_docs_menu['errors'].push('9000');
		
			sp_docs_menu['errors'].push('4001');
		
			sp_docs_menu['errors'].push('11005');
		
			sp_docs_menu['errors'].push('5106');
		
			sp_docs_menu['errors'].push('7100');
		
			sp_docs_menu['errors'].push('9001');
		
			sp_docs_menu['errors'].push('2106');
		
			sp_docs_menu['errors'].push('2105');
		
			sp_docs_menu['errors'].push('2010');
		
			sp_docs_menu['errors'].push('2018');
		
			sp_docs_menu['errors'].push('2012');
		
			sp_docs_menu['errors'].push('11004');
		
			sp_docs_menu['errors'].push('5114');
		
			sp_docs_menu['errors'].push('2015');
		
			sp_docs_menu['errors'].push('2107');
		
			sp_docs_menu['errors'].push('2000');
		
			sp_docs_menu['errors'].push('2002');
		
			sp_docs_menu['errors'].push('2017');
		
			sp_docs_menu['errors'].push('5112');
		
			sp_docs_menu['errors'].push('6202');
		
			sp_docs_menu['errors'].push('11003');
		
			sp_docs_menu['errors'].push('6201');
		
			sp_docs_menu['errors'].push('2008');
		
			sp_docs_menu['errors'].push('2001');
		
			sp_docs_menu['errors'].push('2104');
		
			sp_docs_menu['errors'].push('2007');
		
			sp_docs_menu['errors'].push('5110');
		
			sp_docs_menu['errors'].push('1902');
		
			sp_docs_menu['errors'].push('3003');
		
			sp_docs_menu['errors'].push('2004');
		
			sp_docs_menu['errors'].push('10017');
		
			sp_docs_menu['errors'].push('10011');
		
			sp_docs_menu['errors'].push('10102');
		
			sp_docs_menu['errors'].push('2006');
		
			sp_docs_menu['errors'].push('9003');
		
			sp_docs_menu['errors'].push('5010');
		
			sp_docs_menu['errors'].push('3000');
		
			sp_docs_menu['errors'].push('7102');
		
			sp_docs_menu['errors'].push('2013');
		
			sp_docs_menu['errors'].push('10100');
		
			sp_docs_menu['errors'].push('2102');
		
			sp_docs_menu['errors'].push('2100');
		
			sp_docs_menu['errors'].push('3002');
		
			sp_docs_menu['errors'].push('5101');
		
			sp_docs_menu['errors'].push('3001');
		
			sp_docs_menu['errors'].push('9005');
		
			sp_docs_menu['errors'].push('2011');
		
			sp_docs_menu['errors'].push('2014');
		
			sp_docs_menu['errors'].push('9002');
		
	
		sp_docs_menu['flask'] = [];
		
			sp_docs_menu['flask'].push('quickstart');
		
	
		sp_docs_menu['angular'] = [];
		
	
		sp_docs_menu['how-do-i'] = [];
		
	
		sp_docs_menu['python'] = [];
		
			sp_docs_menu['python'].push('product-guide');
		
			sp_docs_menu['python'].push('quickstart');
		
			sp_docs_menu['python'].push('apidocs');
		
	
		sp_docs_menu['ios'] = [];
		
	
		sp_docs_menu['csharp'] = [];
		
	
		sp_docs_menu['react'] = [];
		
	
		sp_docs_menu['console'] = [];
		
			sp_docs_menu['console'].push('product-guide');
		
			sp_docs_menu['console'].push('quickstart');
		
	
		sp_docs_menu['sample-apps'] = [];
		
	
		sp_docs_menu['nodejs'] = [];
		
			sp_docs_menu['nodejs'].push('quickstart');
		
	
		sp_docs_menu['ruby'] = [];
		
			sp_docs_menu['ruby'].push('product-guide');
		
			sp_docs_menu['ruby'].push('quickstart');
		
	
		sp_docs_menu['nginx'] = [];
		
	
		sp_docs_menu['images'] = [];
		
	
		sp_docs_menu['javascripts'] = [];
		
	
		sp_docs_menu['go'] = [];
		
	
		sp_docs_menu['client-api'] = [];
		
	
</script>


<div id="block-stormpath-docs-docs-menu" class="block block-stormpath-docs last even">
  
  
        
  	
  
        
  	
  
        
  	
  
        
  	
                
                
		<ul class="menu">
		
			<li class="leaf">
			
				<a href="./python/quickstart">Quickstart</a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="./python/product-guide">Product Guide</a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="./python/apidocs/">API Docs (Sphinx)</a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="http://flask-stormpath.readthedocs.org/en/latest/" target="_blank"><span>Flask Integration</span></a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="https://github.com/stormpath/stormpath-django" target="_blank"><span>Django Integration</span></a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="https://github.com/stormpath/stormpath-sdk-python" target="_blank"><span>SDK on GitHub</span></a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="https://github.com/stormpath/stormpath-flask-sample" target="_blank"><span>Sample Applications</span></a>
			
			
			</li>
		
		</ul>
  	
  
        
  	
  
        
  	
  
        
  	
  
        
  	
                
                       <div class="menu-divider"></div> 
                
                
		<ul class="menu">
		
			<li class="leaf">
			
				<a href="./how-do-i">How Do I..?</a>
			
			
			</li>
		
			<li class="leaf">
			
				<a href="./errors">Stormpath Error Codes</a>
			
			
			</li>
		
		</ul>
  	
  
</div>

    </section>
  

  
</aside>


        </div>
      </div>
    </div>
  </div>
</div>
  
<script src="./javascripts/highlight.min.js"></script>

<script>
$(function() {
   hljs.initHighlightingOnLoad();

   /* javascript for codetab to stop the page from shifting when changing tabs (tab sync) */
   var currentEventTab;
   var initialObjectTopOffset;
   var initialPageYOffset;

   $('.tabs').tabs({
		activate: function(event ,ui){

			//if the dom event, grab the hotness 
			if(event.cancelable){
				currentEventTab = event.target;
				initialObjectTopOffset = $(currentEventTab).offset().top;
				initialPageYOffset = window.pageYOffset;
			}
			//change ze tab
			$('.tabs').tabs('option', 'active', ui.newTab.index());

			//grab the new offsets
			var afterChangeOffset = $(currentEventTab).offset().top;
			var afterPageYOffset = window.pageYOffset;

			//do ze scroll
			$('body').scrollTop(initialPageYOffset - (initialObjectTopOffset - afterChangeOffset));
		}
	});
});
</script>









  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<!-- Google Code for Remarketing tag -->
<script type="text/javascript">
/* <![CDATA[ */
var google_conversion_id = 1002663385;
var google_conversion_label = "wSRZCLfkjQQQ2duN3gM";
var google_custom_params = window.google_tag_params;
var google_remarketing_only = true;
/* ]]> */
</script>
<script type="text/javascript" src=".//www.googleadservices.com/pagead/conversion.js">
</script>
<noscript>
<div style="display:inline;">
<img height="1" width="1" style="border-style:none;" alt="" src=".//googleads.g.doubleclick.net/pagead/viewthroughconversion/1002663385/?value=0&amp;label=wSRZCLfkjQQQ2duN3gM&amp;guid=ON&amp;script=0"/>
</div>
</noscript>

<!-- AdRoll Code -->
<script type="text/javascript">
adroll_adv_id = "RVWGHIV3GJCLHIUDNFIMNY";
adroll_pix_id = "L2WE5KAWDRDBVP46PZZBQJ";
(function () {
var oldonload = window.onload;
window.onload = function(){
__adroll_loaded=true;
var scr = document.createElement("script");
var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
scr.setAttribute('async', 'true');
scr.type = "text/javascript";
scr.src = host + "/j/roundtrip.js";
((document.getElementsByTagName('head') || [null])[0] ||
document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
if(oldonload){oldonload()}};
}());
</script>

<!-- HubSpot Analytics Code -->
<script type="text/javascript">
    (function(d,s,i,r) {
        if (d.getElementById(i)){return;}
        var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
        n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/475298.js';
        e.parentNode.insertBefore(n, e);
    })(document,"script","hs-analytics",300000);
</script>
<!-- End HubSpot Analytics Code -->

<!-- CrazyEgg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0017/1602.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>

<!-- Perfect Audience -->
<script type="text/javascript">
(function() {
window._pa = window._pa || {};
// _pa.orderId = "";
// _pa.revenue = "";
var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.perfectaudience.com/serve/51fc2c6f1b440adfcc000099.js";
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
})();
</script>


</body>
</html>
