

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Access Control &mdash; Stormpath Java Servlet Plugin 1.5.4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Stormpath Java Servlet Plugin 1.5.4 documentation" href="index.html"/>
        <link rel="next" title="Internationalization (i18n)" href="i18n.html"/>
        <link rel="prev" title="Request Context" href="request.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  
  <script src="https://cdn.optimizely.com/js/225847041.js"></script>

  
  <script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '986262161469311');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=986262161469311&ev=PageView&noscript=1"
  /></noscript>
</head>

<body class="wy-body-for-nav" role="document">

  
  <noscript><iframe src=".//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-NQZZFW');</script>

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Stormpath Java Servlet Plugin
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-the-project">What is the Stormpath Java Servlet Plugin?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#who-should-use-stormpath">Who should use Stormpath?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#get-an-api-key">Get an API Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#add-the-project">Add the Stormpath Java Servlet Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#try-it">Try it!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#any-problems">Any Problems?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#no-config">No Config?</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#web-xml">web.xml</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-properties">stormpath.properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#property-locations">Property Locations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config.html#plugin-web-stormpath-properties">1. Plugin web.stormpath.properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#classpath-stormpath-properties">2. classpath:stormpath.properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#web-inf-stormpath-properties">3. /WEB-INF/stormpath.properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#servlet-context-parameters">4. Servlet Context Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#environment-variables">5. Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="config.html#jvm-system-properties">6. JVM System Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config.html#security-considerations-passwords-and-secret-values">Security Considerations: Passwords and secret values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-client">Stormpath Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#api-key">API Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#http-proxy">HTTP Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#authentication-scheme">Authentication Scheme</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-application">Stormpath Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#id2">Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#filters">Filters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#default-filters">Default Filters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#uris">URIs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#uri-evaluation-priority">URI Evaluation Priority</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registration.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="registration.html#enabled">Enabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#uri">URI</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#next-uri">Next URI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="registration.html#next-query-parameter">Next Query Parameter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#autologin">AutoLogin</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#form-fields">Form Fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="registration.html#form-field-definitions">Form Field Definitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="registration.html#standard-form-fields">Standard Form Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="registration.html#custom-form-fields">Custom Form Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="registration.html#optional-form-fields">Optional Form Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="registration.html#disabling-form-fields">Disabling Form Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="registration.html#form-field-order">Form Field Order</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#password-strength">Password Strength</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#email-verification">Email Verification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="registration.html#try-it">Try it!</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#verify-link-base-url">Verify Link Base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#verify-next-uri">Verify Next URI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#internationalization-i18n">Internationalization (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#pre-register-handler">Pre Register Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#post-register-handler">Post Register Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#events">Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="registration.html#registered-account">Registered Account</a></li>
<li class="toctree-l3"><a class="reference internal" href="registration.html#verified-account">Verified Account</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#security-notice">Security Notice</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#uri">URI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="login.html#next-query-parameter">Next Query Parameter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="login.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#internationalization-i18n">Internationalization (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#pre-login-handler">Pre Login Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#post-login-handler">Post Login Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#authentication-state">Authentication State</a><ul>
<li class="toctree-l3"><a class="reference internal" href="login.html#saving-authentication-state">Saving Authentication State</a></li>
<li class="toctree-l3"><a class="reference internal" href="login.html#cookie-storage">Cookie Storage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="login.html#cookie-config">Cookie Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="login.html#jwt-creation">JWT Creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="login.html#disabling-cookie-storage">Disabling Cookie Storage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="login.html#custom-savers">Custom Savers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social.html#facebook-login">Facebook Login</a><ul>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-a-facebook-app">Create a Facebook App</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#specify-allowed-urls">Specify Allowed URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-a-facebook-directory">Create a Facebook Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#test-it-out">Test it Out</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="social.html#google-login">Google Login</a><ul>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-a-google-project">Create a Google Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#enable-google-login">Enable Google Login</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-oauth-credentials">Create OAuth Credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-a-google-directory">Create a Google Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#id1">Test it Out</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="social.html#linkedin-login">LinkedIn Login</a><ul>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-a-linkedin-application">Create a LinkedIn Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#enable-linkedin-permissions">Enable LinkedIn Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#create-a-linkedin-directory">Create a LinkedIn Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="social.html#id2">Test it Out</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="social.html#json-api">JSON API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="forgot-password.html">Forgot Password</a><ul>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#configure-the-workflow">Configure the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#try-it">Try it!</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-uri">Forgot URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-next-uri">Forgot Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-uri">Change Password URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-next-uri">Change Password Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#i18n">i18n</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#uri">URI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="logout.html#next-query-parameter">Next Query Parameter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="request-authentication.html">HTTP Request Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="request-authentication.html#http-basic-authentication">HTTP Basic Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="request-authentication.html#token-authentication">Token Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="request-authentication.html#get-a-token">Get a Token</a><ul>
<li class="toctree-l4"><a class="reference internal" href="request-authentication.html#curl">cURL</a></li>
<li class="toctree-l4"><a class="reference internal" href="request-authentication.html#html-form-and-ajax">HTML Form and AJAX</a></li>
<li class="toctree-l4"><a class="reference internal" href="request-authentication.html#origin-or-referer-required">Origin or Referer Required</a></li>
<li class="toctree-l4"><a class="reference internal" href="request-authentication.html#https-required">HTTPS Required</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="request-authentication.html#api-key-authentication">API Key Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="request-authentication.html#determining-api-key-authentication">Determining API Key Authentication</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="request.html">Request Context</a><ul>
<li class="toctree-l2"><a class="reference internal" href="request.html#current-user-account">Current User Account</a><ul>
<li class="toctree-l3"><a class="reference internal" href="request.html#account-resolver">Account Resolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="request.html#request-attributes">Request Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="request.html#request-attribute-names">Request Attribute Names</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="request.html#http-servlet-request-api">HTTP Servlet Request API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="request.html#httpservletrequest-getremoteuser">HttpServletRequest getRemoteUser()</a></li>
<li class="toctree-l4"><a class="reference internal" href="request.html#httpservletrequest-getuserprincipal">HttpServletRequest getUserPrincipal()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="request.html#stormpath-application">Stormpath Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="request.html#application-resolver">Application Resolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="request.html#id2">Request Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="request.html#default-request-attribute-name">Default Request Attribute Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="request.html#custom-request-attribute-names">Custom Request Attribute Names</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="request.html#stormpath-client">Stormpath Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="request.html#client-resolver">Client Resolver</a></li>
<li class="toctree-l3"><a class="reference internal" href="request.html#id3">Request Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="request.html#id4">Default Request Attribute Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="request.html#id5">Custom Request Attribute Names</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unauthenticatedhandler">UnauthenticatedHandler</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exclusions">Exclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization (i18n)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#languages">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#request-locale">Request Locale</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#jsp-tag-library">JSP Tag Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#i18n-properties">i18n.properties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#requesteventlistener">RequestEventListener</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#id2">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#listener-best-practices">Listener Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">Caching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="caching.html#in-process-cache">In-Process Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html#disable-caching">Disable Caching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="caching.html#default-ttl">Default TTL</a></li>
<li class="toctree-l3"><a class="reference internal" href="caching.html#default-tti">Default TTI</a></li>
<li class="toctree-l3"><a class="reference internal" href="caching.html#cache-regions">Cache Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="caching.html#client-cache-regions">Client Cache Regions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="caching.html#shared-cache">Shared Cache</a><ul>
<li class="toctree-l3"><a class="reference internal" href="caching.html#nonce-cache-region">Nonce Cache Region</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="idsite.html">ID Site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#how-does-it-work">How Does It Work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#enable-id-site">Enable ID Site</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#configure-your-application">Configure Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#try-it">Try It!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Custom Views</a><ul>
<li class="toctree-l2"><a class="reference internal" href="views.html#jsp-views">JSP Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#css">CSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#internationalization-i18n">Internationalization (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#change-a-default-view">Change a Default View</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#view-template">View Template</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix/web-stormpath-properties.html">web.stormpath.properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/i18n-properties.html">i18n.properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/stormpath-css.html">stormpath.css</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/change-password.html">/WEB-INF/jsp/stormpath/change-password.jsp</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/forgot-password.html">/WEB-INF/jsp/stormpath/forgot-password.jsp</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/login.html">/WEB-INF/jsp/stormpath/login.jsp</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/register.html">/WEB-INF/jsp/stormpath/register.jsp</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/verify.html">/WEB-INF/jsp/stormpath/verify.jsp</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Stormpath Java Servlet Plugin</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 







<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Access Control</li>
    <li class="wy-breadcrumbs-aside">
      
          
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <blockquote>
<div></div></blockquote>
<div class="section" id="access-control">
<span id="id1"></span><h1>Access Control<a class="headerlink" href="#access-control" title="Permalink to this headline">¶</a></h1>
<p>The Stormpath Java Servlet Plugin allows you to easily control which of your web application&#8217;s URI paths a user is allowed to access based on configurable rules.</p>
<p>The rules are implemented via simple Servlet <a class="reference internal" href="config.html#filters"><span class="std std-ref">filters</span></a> and <a class="reference internal" href="config.html#uris"><span class="std std-ref">configurable filter chains</span></a>, but in a simpler, easier to read, much more flexible, and more succinct definition format than you might be used to with <code class="docutils literal"><span class="pre">web.xml</span></code> configuration.</p>
<p>It works as follows:</p>
<ul>
<li><p class="first">You can define any number of servlet filter implementation that represents a single control rule, for example, the current requestor must be a known user, or they must be authenticated, or they must belong to a particular group, etc.  The plugin comes with a number of useful ones ready to go out of the box.</p>
</li>
<li><p class="first">For any URI path that a user might access, you can specify one or more of these control rules (filters).  If all of the control filter conditions pass - that is, each specified filter determines that the current request is allowed - the filters allow the request to continue to the final destination, presumably a Servlet or an MVC controller in your web framework.</p>
<p>If the access control condition is not satisfied, any filter is allowed to do what it needs: for example, redirect the user to a different location or send back a particular 4XX status code.  This provides a very flexible mechanism to build up rule chains as necessary based on your application requirements.</p>
</li>
</ul>
<p>See the configuration chapter to see how to define the available access control <a class="reference internal" href="config.html#filters"><span class="std std-ref">filters</span></a> and <a class="reference internal" href="config.html#uris"><span class="std std-ref">URI-specific filter chains</span></a></p>
<p>Next, we&#8217;ll see how uri patterns and filters allow you to define authentication and authorization rules for your web application.</p>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>If you need to ensure a user is authenticated before accessing a particular URI path, you can specify the <code class="docutils literal"><span class="pre">authc</span></code> filter for a particular request.  For example, assume that only authenticated users are allowed to access the account dashboard located at <code class="docutils literal"><span class="pre">/account/dashboard</span></code>.  We could create a uri path definition:</p>
<div class="highlight-properties"><div class="highlight"><pre><span></span><span class="na">stormpath.web.uris./account/dashboard</span> <span class="o">=</span> <span class="s">authc</span>
</pre></div>
</div>
<p>This line indicates:</p>
<ul class="simple">
<li>Is the user associated with the request to <code class="docutils literal"><span class="pre">/account/dashboard</span></code> authenticated?<ul>
<li>If yes: allow the request to continue, where it will be handled by a Servlet or MVC controller.</li>
<li>If no: Was the request made by a browser (i.e. the requester prefers HTML or XHTML content based on the <code class="docutils literal"><span class="pre">Accept</span></code> header) ?<ul>
<li>If yes, HTML content is preferred, redirect the request to the <a class="reference internal" href="login.html#login"><span class="std std-ref">Login</span></a> view.</li>
<li>If no, HTML content is not preferred, send an HTTP authentication challenge response that indicates the types of HTTP authentication that are supported.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>As you can see, this authentication assertion behavior supports both &#8216;normal&#8217; browser-initiated requests as well as HTTP client libraries.</p>
<div class="topic">
<p class="topic-title first">Security: Require Authentication By Default</p>
<p>For many web applications, the safest security policy is to always require authentication for any URL that is not explicitly intended for anonymous users.  This is easily achieved by using a &#8216;catch all&#8217; rule at the very bottom of your URI filter chains definitions:</p>
<div class="highlight-properties"><div class="highlight"><pre><span></span><span class="c"># other stormpath.web.uris.* properties above here</span>

<span class="c"># &#39;catch all&#39;: require authentication for anything not explicitly allowed by anonymous users:</span>
<span class="na">stormpath.web.uris./**</span> <span class="o">=</span> <span class="s">authc</span>
</pre></div>
</div>
</div>
<div class="section" id="unauthenticatedhandler">
<h3>UnauthenticatedHandler<a class="headerlink" href="#unauthenticatedhandler" title="Permalink to this headline">¶</a></h3>
<p>If the above logic does not meet your needs, you can implement the behavior you want to be executed if it is determined that the requester is not authenticated by specifying the <code class="docutils literal"><span class="pre">stormpath.web.authc.unauthenticatedHandler</span></code> configuration property.  The property value must be the name of a fully qualified class name that implements the <code class="docutils literal"><span class="pre">com.stormpath.sdk.servlet.filter.UnauthenticatedHandler</span></code> interface.  For example:</p>
<div class="highlight-properties"><div class="highlight"><pre><span></span><span class="na">stormpath.web.authc.unauthenticatedHandler</span> <span class="o">=</span>  <span class="s">com.my.impl.MyUnauthenticatedHandler</span>
</pre></div>
</div>
<p>However, this might not be a trivial exercise if you still wish to support both browser and HTTP client semantics.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to execute custom behavior as a result of a failed login, it is generally recommended not to implement a custom <code class="docutils literal"><span class="pre">UnauthenticatedHandler</span></code> and instead react to <a class="reference internal" href="login.html#login-events"><span class="std std-ref">login events</span></a>.  These events are triggered in the event of an authentication by login form or by HTTP headers, so you can react to both scenarios.</p>
</div>
</div>
</div>
<div class="section" id="exclusions">
<h2>Exclusions<a class="headerlink" href="#exclusions" title="Permalink to this headline">¶</a></h2>
<p>Sometimes you might want to exclude a particular path or sub path from an authentication or authorization requirement.  One very common example of this is for static assets, such as images, css or javascript files needed to render a UI before a user can log in.</p>
<p>You can specify an exclusion as a new URI path with the <code class="docutils literal"><span class="pre">anon</span></code> filter and define it <em>before</em> the URI(s) that require(s) authentication or authorization.  For example, let&#8217;s say all of a web app&#8217;s static assets should always be publicly available under the <code class="docutils literal"><span class="pre">/assets</span></code> path (e.g. <code class="docutils literal"><span class="pre">/assets/images</span></code>, <code class="docutils literal"><span class="pre">/assets/css</span></code>, <code class="docutils literal"><span class="pre">/assets/js</span></code>, etc).  You can define an exclusion like this:</p>
<div class="highlight-properties"><div class="highlight"><pre><span></span><span class="na">stormpath.web.uris./assets/**</span> <span class="o">=</span> <span class="s">anon</span>

<span class="c"># other uri chains</span>

<span class="c"># everything else not specified requires authentication:</span>
<span class="na">stormpath.web.uris./**</span> <span class="o">=</span> <span class="s">authc</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">anon</span></code> filter allows any anonymous request to continue to the desired handler without performing access control checks at all.</p>
<p>Because the <code class="docutils literal"><span class="pre">stormpath.web.uris./assets/**</span></code> line comes <em>before</em> the <code class="docutils literal"><span class="pre">stormpath.web.uris./**</span></code> catch-all line, the first line will match <code class="docutils literal"><span class="pre">/assets/**</span></code> requests first and the catch-all assertion will not be executed.  Remember, URI rule chains are matched and executed based on a &#8216;first match wins&#8217; policy.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="i18n.html" class="btn btn-neutral float-right" title="Internationalization (i18n)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="request.html" class="btn btn-neutral" title="Request Context" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Stormpath, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.5.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

  

</body>
</html>