

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Custom Views &mdash; Stormpath Shiro Servlet Plugin 0.7.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
    <link rel="top" title="Stormpath Shiro Servlet Plugin 0.7.1 documentation" href="index.html"/>
        <link rel="next" title="Tutorial" href="tutorial.html"/>
        <link rel="prev" title="Caching" href="caching.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath Shiro Servlet Plugin</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-apache-shiro">What is Apache Shiro?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-the-project">What is the Stormpath Shiro Servlet Plugin?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#who-should-use-stormpath">Who should use Stormpath?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#get-an-api-key">Get an API Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#add-the-project">Add the Stormpath Shiro Servlet Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#try-it">Try it!</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#no-config">No Config?</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#web-xml">web.xml</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-properties">Stormpath Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#sdk-client">SDK Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-application">Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#filters">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#advanced-apache-shiro-configuration">Advanced Apache Shiro Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registration.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#uri">URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#form-fields">Form Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#i18n">i18n</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#email-verification">Email Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#security-notice">Security Notice</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#uri">URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#i18n">i18n</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#authentication-state">Authentication State</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social.html#facebook-login">Facebook Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social.html#google-login">Google Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social.html#linkedin-login">LinkedIn Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social.html#json-api">JSON API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="forgot-password.html">Forgot Password</a><ul>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#configure-the-workflow">Configure the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#try-it">Try it!</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-uri">Forgot URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-next-uri">Forgot Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-uri">Change Password URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-next-uri">Change Password Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#i18n">i18n</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#uri">URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="http-request-authentication.html">HTTP Request Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="http-request-authentication.html#http-basic-authentication">HTTP Basic Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="http-request-authentication.html#token-authentication">Token Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="http-request-authentication.html#api-key-authentication">API Key Authentication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="request.html">Request Context</a><ul>
<li class="toctree-l2"><a class="reference internal" href="request.html#current-user-account">Current User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="request.html#stormpath-application">Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="request.html#stormpath-sdk-client">Stormpath SDK Client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access-control.html">Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#authentication-authorization">Authentication &amp; Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#groups-are-roles">Groups are Roles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access-control.html#permissions-as-custom-user-data">Permissions as Custom User Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization (i18n)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#languages">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#request-locale">Request Locale</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#jsp-tag-library">JSP Tag Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#i18n-properties">i18n.properties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#subscribe-to-events">Subscribe to Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#id2">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#listener-best-practices">Listener Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">Caching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="caching.html#caching-options">Caching Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html#shared-cache">Shared Cache</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Custom Views</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#jsp-views">JSP Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="#css">CSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internationalization-i18n">Internationalization (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-a-default-view">Change a Default View</a></li>
<li class="toctree-l2"><a class="reference internal" href="#view-template">View Template</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#get-an-api-key">Get an API Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#secure-the-application">Secure the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#using-roles">Using Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#using-permissions">Using Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#wrapping-things-up">Wrapping Things Up</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath Shiro Servlet Plugin</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Custom Views</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/views.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="custom-views">
<span id="views"></span><h1>Custom Views<a class="headerlink" href="#custom-views" title="Permalink to this headline">¶</a></h1>
<p>The Stormpath Shiro Servlet Plugin provides out-of-the-box template-based views for common URIs, like <cite>/login</cite>, <cite>/register</cite>, etc.  This page documents how you can easily customize or completely replace the views to have your own look and feel.</p>
<p>All of the default views are all based on the same principle: they are decorated by a common page template, and only the primary content in each rendered page changes.  Internationalization (i18n) is used to represent text on all default views so you can provide a nice translated view for each user based on their locale.  CSS styles largely control the view look and feel.</p>
<div class="section" id="jsp-views">
<h2>JSP Views<a class="headerlink" href="#jsp-views" title="Permalink to this headline">¶</a></h2>
<p>The default views are JSPs rendered based on a common page template.  The template itself is also a JSP, but represented as a tag library - no 3rd party template libraries are required. This tag library is included in the Stormpath Shiro Servlet Plugin and available to any JSP view in your project.</p>
<p>A JSP view that should be rendered based on this template should reference this template tag library at the top of the JSP:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://stormpath.com/jsp/tags/templates&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
<p>And the page might be defined as follows:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://stormpath.com/jsp/tags/templates&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;sp&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://stormpath.com/jsp/tags&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Any</span> <span class="n">other</span> <span class="n">taglibs</span><span class="o">,</span> <span class="n">like</span> <span class="n">the</span> <span class="n">core</span> <span class="sc">&#39;c&#39;</span> <span class="n">library</span><span class="o">,</span> <span class="n">etc</span><span class="o">:</span> <span class="o">--</span><span class="k">%&gt;</span>

<span class="nt">&lt;t:page&gt;</span>
    <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span><span class="c">&lt;!-- Optional title to go in the doc&#39;s &lt;meta&gt; section --&gt;</span><span class="nt">&lt;/jsp:attribute&gt;</span>
    <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;bodyCssClass&quot;</span><span class="nt">&gt;</span><span class="c">&lt;!-- Optional CSS class to apply to the &lt;body&gt; element --&gt;</span><span class="nt">&lt;/jsp:attribute&gt;</span>
    <span class="nt">&lt;jsp:body&gt;</span>

        <span class="c">&lt;!-- Place your page content here: --&gt;</span>

    <span class="nt">&lt;/jsp:body&gt;</span>
<span class="nt">&lt;/t:page&gt;</span>
</pre></div>
</div>
<p>Anything within the <code class="docutils literal"><span class="pre">&lt;jsp:body&gt;</span> <span class="pre">&lt;/jsp:body&gt;</span></code> element will be &#8216;wrapped&#8217; by the <a class="reference internal" href="#view-template"><span>page template</span></a>.</p>
</div>
<div class="section" id="css">
<h2>CSS<a class="headerlink" href="#css" title="Permalink to this headline">¶</a></h2>
<p>Views are styled based on CSS files referenced in the view template.  Because each view is decorated by the template, the view is styled based on the definitions in these CSS files:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/assets/css/stormpath.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/assets/css/custom.stormpath.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>If you wish to easily override only a few styles, it&#8217;s easiest to re-create the <code class="docutils literal"><span class="pre">custom.stormpath.css</span></code> in your own project at the following <em>exact</em> .war path and file name:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/assets/css/custom.stormpath.css
</pre></div>
</div>
<p>If this file is present in your .war, it will override the plugin default file.  You can re-define any definitions you find in the base <code class="docutils literal"><span class="pre">stormpath.css</span></code> file and those will override the defaults in <code class="docutils literal"><span class="pre">stormpath.css</span></code>.</p>
<p>If you have a lot of CSS changes, you may wish to re-define the <code class="docutils literal"><span class="pre">stormpath.css</span></code> file entirely.  Just create the following file in your project at the following <em>exact</em> .war path and file name:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/assets/css/stormpath.css
</pre></div>
</div>
<p>If this file is present in your .war, it will override the plugin default file.</p>
<p>Finally, if this proves too cumbersome or you just want total control, you might want to define your own <a class="reference internal" href="#view-template">view template</a> and reference your own CSS file in the template and ignore any of the plugin default css files.</p>
</div>
<div class="section" id="internationalization-i18n">
<h2>Internationalization (i18n)<a class="headerlink" href="#internationalization-i18n" title="Permalink to this headline">¶</a></h2>
<p>All of the Stormpath plugin default views are internationalized to support language translation based on the end-user&#8217;s locale.</p>
<p>In addition to the page template tag library, a regular tag library is included in the plugin and may be used to automatically render i18n messages based on the the <code class="docutils literal"><span class="pre">com.stormpath.sdk.servlet.i18n</span></code> message resource bundle.  You can use the taglib in a jsp by referencing <code class="docutils literal"><span class="pre">&lt;%&#64;</span> <span class="pre">taglib</span> <span class="pre">prefix=&quot;sp&quot;</span> <span class="pre">uri=&quot;http://stormpath.com/jsp/tags&quot;</span> <span class="pre">%&gt;</span></code> at the top of your JSP file.</p>
<p>For example:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://stormpath.com/jsp/tags/templates&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;sp&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://stormpath.com/jsp/tags&quot;</span> <span class="k">%&gt;</span>

<span class="nt">&lt;t:page&gt;</span>
    <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;&lt;sp:message</span> <span class="na">key=</span><span class="s">&quot;stormpath.web.login.title&quot;</span><span class="nt">/&gt;&lt;/jsp:attribute&gt;</span>
    <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;bodyCssClass&quot;</span><span class="nt">&gt;</span>login<span class="nt">&lt;/jsp:attribute&gt;</span>
    <span class="nt">&lt;jsp:body&gt;</span>

        <span class="nt">&lt;h1&gt;&lt;sp:message</span> <span class="na">key=</span><span class="s">&quot;stormpath.web.login.title&quot;</span><span class="nt">/&gt;&lt;/h1&gt;</span>

    <span class="nt">&lt;/jsp:body&gt;</span>
<span class="nt">&lt;/t:page&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">&lt;sp:message&gt;</span></code> tag works just like the standard template library&#8217;s <code class="docutils literal"><span class="pre">&lt;fmt:message&gt;</span></code> tag, but <code class="docutils literal"><span class="pre">&lt;sp:message&gt;</span></code> will automatically use the <code class="docutils literal"><span class="pre">com.stormpath.sdk.servlet.i18n</span></code> message bundle in addition to allowing for a flexible locale resolution strategy in your <code class="docutils literal"><span class="pre">stormpath.properties</span></code> configuration.</p>
<p>If you wish to see all of the predefined message keys available, as well as more information about i18n message value resolution, please see the <a class="reference internal" href="i18n.html#i18n"><span>Internationalization (i18n)</span></a> page.</p>
</div>
<div class="section" id="change-a-default-view">
<span id="default-view-files"></span><h2>Change a Default View<a class="headerlink" href="#change-a-default-view" title="Permalink to this headline">¶</a></h2>
<p>If you want to change the structure of any of the included default JSP views, you must redefine them (copy and paste them) in your own project in the following <em>exact</em> .war file locations:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="38%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Default URI</th>
<th class="head">Description</th>
<th class="head">War File Location</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>/login</td>
<td>Login View</td>
<td>/WEB-INF/jsp/stormpath/login.jsp</td>
</tr>
<tr class="row-odd"><td>/forgot</td>
<td>Forgot Password Workflow Start</td>
<td>/WEB-INF/jsp/stormpath/forgot.jsp</td>
</tr>
<tr class="row-even"><td>/change</td>
<td>Forgot Password Set New Password</td>
<td>/WEB-INF/jsp/stormpath/change.jsp</td>
</tr>
<tr class="row-odd"><td>/register</td>
<td>New user / registration view</td>
<td>/WEB-INF/jsp/stormpath/register.jsp</td>
</tr>
<tr class="row-even"><td>/verify</td>
<td>New user please check email view</td>
<td>/WEB-INF/jsp/stormpath/verify.jsp</td>
</tr>
<tr class="row-odd"><td>/unauthorized</td>
<td>Unauthorized access view</td>
<td>/WEB-INF/jsp/stormpath/unauthorized.jsp</td>
</tr>
</tbody>
</table>
<p>If you re-define any of these files at the exact same respective path in your .war project, that file will be used to render the view instead of the plugin file.</p>
</div>
<div class="section" id="view-template">
<span id="id1"></span><h2>View Template<a class="headerlink" href="#view-template" title="Permalink to this headline">¶</a></h2>
<p>Unfortunately the convenient override mechanism where you simply just replace a plugin default file with your own does not work with JSP tag-based templates.  This means that if you want to use your own page template for the plugin&#8217;s views, you will need to replace <em>all</em> of the plugin&#8217;s default view files.  But the good news is that there are only 6 view files, and they can mostly be copied-and-pasted, so it shouldn&#8217;t take too long (5 to 10 minutes?).</p>
<p>If you do wish to use your own page template, here is how:</p>
<ol class="arabic" id="custom-template-tld">
<li><p class="first">Create a new <code class="docutils literal"><span class="pre">/META-INF/templates.tld</span></code> file in your .war project with the following contents:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;taglib</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
        <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
        <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;</span>
        <span class="na">version=</span><span class="s">&quot;2.1&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;tlib-version&gt;</span>1.0<span class="nt">&lt;/tlib-version&gt;</span> <span class="c">&lt;!-- whatever version your application is --&gt;</span>
    <span class="nt">&lt;short-name&gt;</span>myAppPageTemplate<span class="nt">&lt;/short-name&gt;</span> <span class="c">&lt;!-- any name will do --&gt;</span>
    <span class="nt">&lt;uri&gt;</span>http://mycompany.com/myapp/jsp/tags/templates<span class="nt">&lt;/uri&gt;</span> <span class="c">&lt;!-- Does not need to resolve to a real view --&gt;</span>

    <span class="nt">&lt;tag-file&gt;</span>
        <span class="nt">&lt;name&gt;</span>page<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;path&gt;</span>/META-INF/tags/page.tag<span class="nt">&lt;/path&gt;</span>
    <span class="nt">&lt;/tag-file&gt;</span>

<span class="nt">&lt;/taglib&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a new <code class="docutils literal"><span class="pre">/META-INF/tags/page.tag</span></code> file in your .war project with your view template markup.  Although this has a <code class="docutils literal"><span class="pre">.tag</span></code> suffix, this is just a standard JSP file.  Here is a basic template example you can use to start:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">tag</span> <span class="n">description</span><span class="o">=</span><span class="s">&quot;My App page template&quot;</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Any</span> <span class="n">other</span> <span class="n">taglibs</span> <span class="o">--</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">attribute</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;title&quot;</span> <span class="n">required</span><span class="o">=</span><span class="s">&quot;false&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Any</span> <span class="n">other</span> <span class="n">attributes</span> <span class="n">referenced</span> <span class="n">in</span> <span class="k">this</span> <span class="n">template</span> <span class="o">--</span><span class="k">%&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;&lt;c:out</span> <span class="na">value=</span><span class="s">&quot;${!empty title ? title : &#39;&#39;}&quot;</span><span class="nt">/&gt;&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;${pageContext.request.contextPath}/assets/css/style.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;jsp:doBody/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>The important points to note:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&lt;%&#64;tag</span> <span class="pre">description=&quot;My</span> <span class="pre">App</span> <span class="pre">page</span> <span class="pre">template&quot;</span> <span class="pre">pageEncoding=&quot;UTF-8&quot;%&gt;</span></code> must be at the top of the file</li>
<li><code class="docutils literal"><span class="pre">&lt;jsp:doBody/&gt;</span></code> must be somewhere in the template.  This will be substituted at runtime with the actual page content.</li>
<li>A <code class="docutils literal"><span class="pre">title</span></code> page attribute is supported.  This can be specified in views that use the template via <code class="docutils literal"><span class="pre">&lt;jsp:attribute</span> <span class="pre">name=&quot;title&quot;&gt;Value</span> <span class="pre">Here&lt;/jsp:attribute&gt;</span></code></li>
</ul>
</li>
<li><p class="first">Copy and paste <a class="reference internal" href="#default-view-files"><span>each stormpath default view file</span></a> to your own project at the <em>exact</em> same path as the plugin files.  That is, each file <em>must</em> be in your .war&#8217;s <code class="docutils literal"><span class="pre">/WEB-INF/jsp/stormpath/</span></code> directory and they <em>must</em> have the exact same name as the original files.</p>
</li>
<li><p class="first">In each view file, you&#8217;ll need to replace the following line:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://stormpath.com/jsp/tags/templates&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
<p>with your own tag library template uri:</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://mycompany.com/myapp/jsp/tags/templates&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
<p>(or whatever URI you chose when you created your <code class="docutils literal"><span class="pre">/META-INF/templates.tld</span></code> <a class="reference internal" href="#custom-template-tld"><span>tag library descriptor file</span></a>).</p>
</li>
</ol>
<p>After completing these steps, all plugin views will reflect your custom template.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="caching.html" class="btn btn-neutral" title="Caching"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
   
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-29159574-1', 'auto');
    ga('send', 'pageview');
  </script>
  <script type="text/javascript">
    (function(d,s,i,r) {
        if (d.getElementById(i)){return;}
        var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
        n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/475298.js';
        e.parentNode.insertBefore(n, e);
    })(document,"script","hs-analytics",300000);
  </script>
  <script type="text/javascript">
    var _kmq = _kmq || [];
    var _kmk = _kmk || '684b854336bd3a6523260ebd991eec06b18b929a';
    function _kms(u){
        setTimeout(function(){
            var d = document, f = d.getElementsByTagName('script')[0],
                    s = d.createElement('script');
            s.type = 'text/javascript'; s.async = true; s.src = u;
            f.parentNode.insertBefore(s, f);
        }, 1);
    }
    _kms('//i.kissmetrics.com/i.js');
    _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');
  </script>
  <script src=".//cdn.optimizely.com/js/225847041.js"></script>
  <script type="text/javascript" >
    $(document).ready(function() {
      $("a[href^='http']").attr('target','_blank');
    });
  </script>


</body>
</html>