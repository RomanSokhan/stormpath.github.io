

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickstart &mdash; Stormpath Laravel  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Stormpath Laravel  documentation" href="index.html"/>
        <link rel="next" title="User Data" href="user_data.html"/>
        <link rel="prev" title="Setup" href="setup.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  
  <script src="https://cdn.optimizely.com/js/225847041.js"></script>

  
  <script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '986262161469311');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=986262161469311&ev=PageView&noscript=1"
  /></noscript>
</head>

<body class="wy-body-for-nav" role="document">

  
  <noscript><iframe src=".//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-NQZZFW');</script>

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Stormpath Laravel
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="#other-notes">Other Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_data.html">User Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a></li>
<li class="toctree-l1"><a class="reference internal" href="social_login.html">Social Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="password_reset.html">Password Reset</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Laravel Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrade Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Stormpath Laravel</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>Now that we&#8217;ve got all the prerequisites out of the way, let&#8217;s take a look at
some code!  Integrating Stormpath-Laravel into an application can take as little
as <strong>1 minute</strong>!</p>
<div class="section" id="environment-variables">
<h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>In the last section, we gathered our API credentials for the Stormpath API.
Now we&#8217;ll configure our Laravel application to use them.</p>
<p>Open your <code class="docutils literal"><span class="pre">.env</span></code> file and add the following at the end:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nv">STORMPATH_CLIENT_APIKEY_ID</span><span class="o">={</span>ID_FROM_API_CREDENTIALS<span class="o">}</span>
<span class="nv">STORMPATH_CLIENT_APIKEY_SECRET</span><span class="o">={</span>SECRET_FROM_API_CREDENTIALS<span class="o">}</span>
<span class="nv">STORMPATH_APPLICATION_HREF</span><span class="o">={</span>ID_OF_APPLICATION<span class="o">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">STORMPATH_CLIENT_APIKEY_ID</span></code> option should be a long, random string that was generated
and part of the API credentials file you downloaded.</p>
<p>The <code class="docutils literal"><span class="pre">STORMPATH_CLIENT_APIKEY_SECRET</span></code> option should be a long, random string that was generated
and part of the API credentials file you downloaded.</p>
<p>The <code class="docutils literal"><span class="pre">STORMPATH_APPLICATION_HREF</span></code> option requires you to specify your Stormpath Application
href, which can be found under your Application on the <a class="reference external" href="https://api.stormpath.com/v#!applications">Stormpath Applications</a>
dashboard page.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The .env file should not be committed to your VCS</p>
</div>
</div>
<div class="section" id="initialize-stormpath-laravel">
<h2>Initialize Stormpath-Laravel<a class="headerlink" href="#initialize-stormpath-laravel" title="Permalink to this headline">¶</a></h2>
<p>After installing the Stormpath-Laravel package, you need to use add the service provider
to your app config. Open your <code class="docutils literal"><span class="pre">config/app.php</span></code> file and add the following:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="s1">&#39;providers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="nx">Stormpath\Laravel\Support\StormpathLaravelServiceProvider</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The next thing is to publish the stormpath config file.  This can be done by running the following
in your terminal.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>php artisan vendor:publish
</pre></div>
</div>
<p>You will see a new file in your config folder named <code class="docutils literal"><span class="pre">stormpath.php</span></code> which has all the configuration options
for the package.</p>
</div>
<div class="section" id="testing-it-out">
<h2>Testing It Out<a class="headerlink" href="#testing-it-out" title="Permalink to this headline">¶</a></h2>
<p>If you followed the step above, you will now have fully functional
registration, login, and logout functionality active on your site!</p>
<p>Don&#8217;t believe me?  Test it out!  Start up your web server now, and I&#8217;ll
walk you through the basics:</p>
<ul class="simple">
<li>Navigate to <code class="docutils literal"><span class="pre">/register</span></code>.  You will see a registration page.  Go ahead and
enter some information.  You should be able to create a user account.  Once
you&#8217;ve created a user account, you&#8217;ll be automatically logged in, then
redirected back to the root URL (<code class="docutils literal"><span class="pre">/</span></code>, by default).</li>
<li>Navigate to <code class="docutils literal"><span class="pre">/logout</span></code>.  You will now be logged out of your account, then
redirected back to the root URL (<code class="docutils literal"><span class="pre">/</span></code>, by default).</li>
<li>Navigate to <code class="docutils literal"><span class="pre">/login</span></code>.  You will see a login page.  You can now re-enter
your user credentials and log into the site again.</li>
</ul>
<p>Wasn&#8217;t that easy?!</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You probably noticed that you couldn&#8217;t register a user account without
specifying a sufficiently strong password.  This is because, by default,
Stormpath enforces certain password strength rules on your Stormpath
Directories.</p>
<p class="last">If you&#8217;d like to change these password strength rules (<em>or disable them</em>),
you can do so easily by visiting the <a class="reference external" href="https://api.stormpath.com/ui/dashboard">Stormpath dashboard</a>, navigating to
your user Directory, then changing the &#8220;Password Strength Policy&#8221;.</p>
</div>
</div>
</div>
<div class="section" id="other-notes">
<h1>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-an-api">
<h2>Running an API<a class="headerlink" href="#running-an-api" title="Permalink to this headline">¶</a></h2>
<p>If you are running this package for your API, We suggest that you run it on
a separate instance of laravel. This is so you can disable CSRF Verification
for requests. To disable CSRF verification, open your <code class="docutils literal"><span class="pre">app/http/Kernel.php</span></code> file
and comment out the <code class="docutils literal"><span class="pre">\App\Http\Middleware\VerifyCsrfToken::class,</span></code> line.</p>
</div>
<div class="section" id="caching">
<h2>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h2>
<p>This package now relies heavily on caching to improve response times. We cache a
number of items on the first page load and they are cached forever. If you make
any changes to your application through the Stormpath Dashboard, you will need to
clear your laravel cache. Do this by running <code class="docutils literal"><span class="pre">php</span> <span class="pre">artisan</span> <span class="pre">cache:clear</span></code> from the
command line.  Your next request after doing this will take a little longer, but
the cache will be refreshed with the new settings.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user_data.html" class="btn btn-neutral float-right" title="User Data" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setup.html" class="btn btn-neutral" title="Setup" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>