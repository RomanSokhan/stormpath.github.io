

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Password Reset &mdash; Stormpath Laravel  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath Laravel  documentation" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  
<!-- Google Tag Manager -->
<noscript><iframe src=".//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NQZZFW');</script>
<!-- End Google Tag Manager -->

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath Laravel</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-does-this-library-do">What does this library do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#who-should-use-stormpath">Who Should Use Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-account">Create a Stormpath Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#bonus-create-a-directory">Bonus: Create a Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#install-the-package">Install the Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#initialize-stormpath-laravel">Initialize Stormpath-Laravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#testing-it-out">Testing It Out</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#other-notes">Other Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#web-views">Web Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#caching">Caching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_data.html">User Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#current-logged-in-user">Current Logged In User</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#custom-data">Custom Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#user-context">User Context</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registration.html#configuration-options">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#modifying-default-fields">Modifying Default Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#password-strength-rules">Password Strength Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#email-verification">Email Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#auto-login">Auto Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#client-credentials">Client Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#password-grant">Password Grant</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#refresh-grant">Refresh Grant</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#configuration-options">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#token-based-logging-out">Token Based Logging Out</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social_login.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#facebook-login">Facebook Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#google-login">Google Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#linkedin-login">LinkedIn Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#developers">Developers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-6">Version 0.1.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-5">Version 0.1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-4">Version 0.1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-3">Version 0.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-2">Version 0.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-1">Version 0.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0">Version 0.1.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrade Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-5-version-0-1-6">Version 0.1.5 -&gt; Version 0.1.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-4-version-0-1-5">Version 0.1.4 -&gt; Version 0.1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-3-version-0-1-4">Version 0.1.3 -&gt; Version 0.1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-2-version-0-1-3">Version 0.1.2 -&gt; Version 0.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-1-version-0-1-2">Version 0.1.1 -&gt; Version 0.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-version-0-1-1">Version 0.1.0 -&gt; Version 0.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-0-0-version-0-1-0">Version 0.0.0 -&gt; Version 0.1.0</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath Laravel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Password Reset</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/password_reset.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="password-reset">
<span id="id1"></span><h1>Password Reset<a class="headerlink" href="#password-reset" title="Permalink to this headline">Â¶</a></h1>
<p>Stormpath provides a self-service password reset flow for your users, allowing
them to request a link that lets them reset their password.  This is a very
secure feature and we highly suggest it for your application.</p>
<div class="section" id="enable-the-workflow">
<h2>Enable the Workflow<a class="headerlink" href="#enable-the-workflow" title="Permalink to this headline">Â¶</a></h2>
<p>To use the password reset workflow, you need to enable it on the directory
that your application is using.  Login to the <a class="reference external" href="https://api.stormpath.com">Stormpath Admin Console</a> and
find your directory, then navigate to the workflows section of that directory.</p>
<p>Enable the password reset email if it is disabled.</p>
<p>You should also set the <strong>Link Base Url</strong> to be the following URL:</p>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span></span>http://localhost:8000/change
</pre></div>
</div>
</div></blockquote>
<p>You then need to enable it in the <code class="docutils literal"><span class="pre">/stormpath.yaml</span></code> file:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nx">web</span><span class="o">:</span>
  <span class="nx">changePassword</span><span class="o">:</span>
    <span class="nx">enabled</span><span class="o">:</span> <span class="k">null</span>
    <span class="nx">autoLogin</span><span class="o">:</span> <span class="k">false</span>
    <span class="nx">uri</span><span class="o">:</span> <span class="s2">&quot;/change&quot;</span>
    <span class="nx">nextUri</span><span class="o">:</span> <span class="s2">&quot;/login?status=reset&quot;</span>
    <span class="nx">errorUri</span><span class="o">:</span> <span class="s2">&quot;/forgot?status=invalid_sptoken&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-workflow">
<h2>Using the Workflow<a class="headerlink" href="#using-the-workflow" title="Permalink to this headline">Â¶</a></h2>
<p>You can now complete a password reset workflow by doing the following steps:</p>
<ul class="simple">
<li>Send a</li>
</ul>
</div>
<div class="section" id="auto-login">
<h2>Auto Login<a class="headerlink" href="#auto-login" title="Permalink to this headline">Â¶</a></h2>
<p>Our library implements the most secure workflow by default: the user must
request a password reset link, then login again after changing their password.
We recommend these settings for security purposes, but if you wish to automatically
log the user in after they reset their password you can enable that functionality
with this option:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="s2">&quot;web&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;changePassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s2">&quot;autoLogin&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-the-ux">
<h2>Customizing the UX<a class="headerlink" href="#customizing-the-ux" title="Permalink to this headline">Â¶</a></h2>
<p>You may also change the URLs of the pages in this workflow, as well as the
redirect URLs that we use during the workflow.  This example configuration shows
the default options that you can modify to suit your needs:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="s2">&quot;web&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;forgotPassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/forgot&quot;</span><span class="p">,</span>
        <span class="s2">&quot;view&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;stormpath::forgot-password&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/login?status=forgot&quot;</span>
    <span class="p">],</span>

    <span class="s2">&quot;changePassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s2">&quot;autoLogin&quot;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/change&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/login?status=reset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;view&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;stormpath::change-password&quot;</span><span class="p">,</span>
        <span class="s2">&quot;errorUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/forgot?status=invalid_sptoken&quot;</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>