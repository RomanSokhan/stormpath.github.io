

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create the Registration Form &mdash; Stormpath AngularJS + Yeoman Guide 0.0.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath AngularJS + Yeoman Guide 0.0.2 documentation" href="index.html"/>
        <link rel="next" title="Create the Profile View" href="user_profile.html"/>
        <link rel="prev" title="Create the Login Form" href="login.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  
<!-- Google Tag Manager -->
<noscript><iframe src=".//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NQZZFW');</script>
<!-- End Google Tag Manager -->

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath AngularJS + Yeoman Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-we-re-building">What We&#8217;re Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#example-project">Example Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#how-to-get-support">How to get Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create_new_project.html">Creating a Fullstack Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#installing-node-grunt-bower-and-yeoman">Installing Node, Grunt, Bower and Yeoman</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#create-an-angular-fullstack-project">Create an Angular-Fullstack Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#install-the-stormpath-packages">Install the Stormpath Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#upgrade-express">Upgrade Express</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#git-tracking">Git Tracking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create_tenant.html">Create a Stormpath Tenant</a><ul>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#sign-up-for-stormpath">Sign up for Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="protect_api.html">Configure the Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#setting-environment-variables">Setting Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#require-the-stormpath-module">Require the Stormpath Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#protect-your-api-routes">Protect Your API Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#reload-the-app">Reload the App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configure_angular.html">Configure the Angular Application</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configure_angular.html#add-stormpath-to-the-angular-application">Add Stormpath to the Angular Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_angular.html#configure-the-ui-router-integration">Configure the UI Router Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="customize_menu.html">Customize the Menu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customize_menu.html#modify-navbar-html">Modify navbar.html</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Create the Login Form</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#generate-the-login-route">Generate the /login Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#use-the-login-form-directive">Use the Login Form Directive</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Create the Registration Form</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#generate-the-register-route">Generate the /register Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-the-registration-form-directive">Add the Registration Form Directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-the-verify-route">Generate the /verify Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-the-sptoken-parameter">Add the sptoken Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-the-email-verification-directive">Use the Email Verification Directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-the-directory">Configure the Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#try-it-register-for-an-account">Try It, Register for an Account!</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-form-fields">Customizing the Form Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-form-template">Customizing the Form Template</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_profile.html">Create the Profile View</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#generate-the-profile-route">Generate the /profile Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#force-authentication">Force Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#create-the-view">Create the View</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#try-it-out-see-your-profile">Try It Out, See Your Profile!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="password_reset.html">Password Reset Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#generate-the-routes">Generate the Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#add-the-sptoken-parameter">Add the sptoken Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#use-the-password-reset-directives">Use the Password Reset Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#configure-the-directory">Configure the Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#try-it-reset-your-password">Try It, Reset your Password!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access_control.html">Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#server-configuration">Server Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#ui-state-control">UI State Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#helper-directives">Helper Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#api-security">API Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wait_for_user.html">Waiting For User State</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wait_for_user.html#use-the-waitforuser-option">Use the waitForUser Option</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath AngularJS + Yeoman Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Create the Registration Form</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/register.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="create-the-registration-form">
<span id="register"></span><h1>Create the Registration Form<a class="headerlink" href="#create-the-registration-form" title="Permalink to this headline">¶</a></h1>
<p>We want our users to sign up for our service so we need to provide a
registration form.  The <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-angularjs">Stormpath Angular SDK</a> provides a pre-built
registration form that can be inserted with an Angular directive.  When a user
submits this form, it will create a new account for them in the Stormpath
Directory that is associated with the Stormpath Application that you created in
the <a class="reference internal" href="create_tenant.html#create-tenant"><span class="std std-ref">Create a Stormpath Tenant</span></a> section.</p>
<div class="section" id="generate-the-register-route">
<h2>Generate the /register Route<a class="headerlink" href="#generate-the-register-route" title="Permalink to this headline">¶</a></h2>
<p>Stop the server and run the following command in your project folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ yo angular-fullstack:route register
</pre></div>
</div>
<p>Press enter to accept the defaults options:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>? Where would you like to create this route? client/app/
? What will the url of your route be? /register
</pre></div>
</div>
<p>The following files will be created:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>create client/app/register/register.js
create client/app/register/register.controller.js
create client/app/register/register.controller.spec.js
create client/app/register/register.css
create client/app/register/register.html
</pre></div>
</div>
</div>
<div class="section" id="add-the-registration-form-directive">
<h2>Add the Registration Form Directive<a class="headerlink" href="#add-the-registration-form-directive" title="Permalink to this headline">¶</a></h2>
<p>Open the file <code class="docutils literal"><span class="pre">client/app/register/register.html</span></code> and then replace
its contents with the following:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">ng-include</span><span class="o">=</span><span class="s">&quot;&#39;components/navbar/navbar.html&#39;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-xs-12&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Registration<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">sp-registration-form</span> <span class="na">post-login-state</span><span class="o">=</span><span class="s">&quot;main&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This HTML markup does the following:</p>
<ul class="simple">
<li>Includes the common menu bar for the application.</li>
<li>Sets up some <a class="reference external" href="http://getbootstrap.com">Bootstrap</a> classes so that the page flows nicely.</li>
<li>Inserts the default registration form via the <a class="reference external" href="https://docs.stormpath.com/angularjs/sdk/#/api/stormpath.spRegistrationForm:spRegistrationForm">spRegistrationForm</a> directive.</li>
<li>Declares (on the directive) that we want to send the user to the main page after they register.</li>
</ul>
<p>Save that file and the browser should auto-reload. You should now
see the registration view like this:</p>
<img alt="_images/registration_form.png" src="_images/registration_form.png" />
<p>If you want to further customize the look and behavior of the form,
please see the API documentation for the
<a class="reference external" href="https://docs.stormpath.com/angularjs/sdk/#/api/stormpath.spRegistrationForm:spRegistrationForm">spRegistrationForm</a> directive.
The most useful feature is the ability to specify your own template.</p>
</div>
<div class="section" id="generate-the-verify-route">
<h2>Generate the /verify Route<a class="headerlink" href="#generate-the-verify-route" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="http://docs.stormpath.com/rest/product-guide/#verify-an-email-address">Stormpath Email Verification</a> feature will allow you to confirm a user&#8217;s
identity by sending them a link that they must click on.
We handle all the email and links for you!  (If you don&#8217;t want to use this
feature, you can skip this section.)</p>
<p>However, we must have a place for the user to land when they click on that
link in their email.  We will implement a default view for this in our application
and configure the Stormpath Directory accordingly.</p>
<p>The first thing is to generate another route.  In this situation, we will
call the controller <code class="docutils literal"><span class="pre">verify</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ yo angular-fullstack:route verify
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>? Where would you like to create this route? client/app/
? What will the url of your route be? /register/verify
   create client/app/verify/verify.js
   create client/app/verify/verify.controller.js
   create client/app/verify/verify.controller.spec.js
   create client/app/verify/verify.css
</pre></div>
</div>
</div>
<div class="section" id="add-the-sptoken-parameter">
<h2>Add the sptoken Parameter<a class="headerlink" href="#add-the-sptoken-parameter" title="Permalink to this headline">¶</a></h2>
<p>When the user clicks on the link in their email, they will be sent to your
application with a url parameter called <code class="docutils literal"><span class="pre">sptoken</span></code> - we need to let the UI
router know about this.  Open the file <code class="docutils literal"><span class="pre">client/app/verify/verify.js</span></code> and
modify the <code class="docutils literal"><span class="pre">url</span></code> string to include the following parameter:</p>
<div class="highlight-js"><div class="highlight"><pre><span></span><span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/verify?sptoken&#39;</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="use-the-email-verification-directive">
<h2>Use the Email Verification Directive<a class="headerlink" href="#use-the-email-verification-directive" title="Permalink to this headline">¶</a></h2>
<p>We have a pre-built view that shows the necessary informational messages when
someone is trying to complete the email verification process. It will:</p>
<ul class="simple">
<li>Show a success message and prompt them to login.</li>
<li>Allow them to request another email if the link has expired.</li>
</ul>
<p>Open the file <code class="docutils literal"><span class="pre">client/app/verify/verify.html</span></code> and
replace its contents with the following:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">ng-include</span><span class="o">=</span><span class="s">&quot;&#39;components/navbar/navbar.html&#39;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-xs-12&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Verify Your Account<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">hr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">sp-email-verification</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="configure-the-directory">
<h2>Configure the Directory<a class="headerlink" href="#configure-the-directory" title="Permalink to this headline">¶</a></h2>
<p>In order to use the email verification feature, you will need to enable it
on the Directory that this account will be created in.  Login to the
<a class="reference external" href="https://api.stormpath.com/login">Stormpath Admin Console</a> and find the Directories tab.  You will see the
Directory that was automatically created for the Application.  Click into it,
find the Workflows tab, and then enable the email verification workflow.</p>
<p>You should also modify the <strong>Link Base URL</strong> to point
to your application.  At the moment, that URL will be:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>http://localhost:9000/verify
</pre></div>
</div>
<p>Don&#8217;t forget to press save!</p>
<p>Here is what that screen looks like:</p>
<img alt="_images/directory_email_verification.png" src="_images/directory_email_verification.png" />
</div>
<div class="section" id="try-it-register-for-an-account">
<h2>Try It, Register for an Account!<a class="headerlink" href="#try-it-register-for-an-account" title="Permalink to this headline">¶</a></h2>
<p>That&#8217;s it, really!  Give the form a try.  Once you register for an
account, you will be automatically redirected back to the main page.
You will also be logged-in automatically, and you will start seeing
the list of things again &#8211; remember how we locked it down?  Now that
you are authenticated, you are allowed to access that part of the API
again.</p>
</div>
<div class="section" id="customizing-the-form-fields">
<h2>Customizing the Form Fields<a class="headerlink" href="#customizing-the-form-fields" title="Permalink to this headline">¶</a></h2>
<p>When rendering the registration form, the Stormpath Angular SDK will make a JSON
GET request to the <code class="docutils literal"><span class="pre">/register</span></code> endpoint on your server, and it expects to
receive a view model that describes the form and it&#8217;s fields.  As such, you will
define your custom registration fields in your server-side configuration. Please
see the <a class="reference external" href="https://docs.stormpath.com/nodejs/express/latest/registration.html">Express-Stormpath Registration Documentation</a> for in-depth
instructions.</p>
<p>As an example, we can do the following in <cite>server/app.js</cite>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">ExpressStormpath</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">app</span><span class="p">,{</span>
  <span class="nx">web</span><span class="o">:</span> <span class="p">{</span>

    <span class="cm">/* .. Other options */</span>

    <span class="nx">register</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">form</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">fields</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">favoriteColor</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Favorite Color?&#39;</span><span class="p">,</span>
            <span class="nx">placeholder</span><span class="o">:</span> <span class="s1">&#39;e.g. Blue&#39;</span><span class="p">,</span>
            <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;text&#39;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}));</span>
</pre></div>
</div>
<p>With this custom field configuration, the Stormpath Angular SDK will
automatically render this field on your registration form and apply the data to
the user&#8217;s custom data object when they register - cool!</p>
</div>
<div class="section" id="customizing-the-form-template">
<h2>Customizing the Form Template<a class="headerlink" href="#customizing-the-form-template" title="Permalink to this headline">¶</a></h2>
<p>If you would like to modify the HTML template that renders our form, you can do
that as well.  You&#8217;ll make use of the <code class="docutils literal"><span class="pre">template-url</span></code> option on the directive.</p>
<p>For example, create a new file in <code class="docutils literal"><span class="pre">client/app/register/</span></code> and call it
<code class="docutils literal"><span class="pre">my-register.html</span></code>.  Copy the contents from our existing <code class="docutils literal"><span class="pre">register.html</span></code>
into it.  Then add the following markup to it in a place that you like:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;favColor&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-xs-12 col-sm-4 control-label&quot;</span><span class="p">&gt;</span>Favorite Color<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-xs-12 col-sm-4&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;favColor&quot;</span> <span class="na">ng-model</span><span class="o">=</span><span class="s">&quot;formModel.favoriteColor&quot;</span> <span class="na">ng-disabled</span><span class="o">=</span><span class="s">&quot;creating&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Now, modify your registration form directive and tell it to use the following custom template:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">sp-registration-form</span> <span class="na">post-login-state</span><span class="o">=</span><span class="s">&quot;main&quot;</span> <span class="na">template-url</span><span class="o">=</span><span class="s">&quot;app/register/my-register.html&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Your registration form should have a new field for entering your favorite color!  This information
will go into the <code class="docutils literal"><span class="pre">customData</span></code> object on the Account object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You need to ensure that your server-side framework is decoding complex form
objects in POST bodies.  If you are using the common <code class="docutils literal"><span class="pre">body-parser</span></code> library, you can
enable that with the <code class="docutils literal"><span class="pre">extended</span></code> option:</p>
<div class="last highlight-js"><div class="highlight"><pre><span></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span> <span class="nx">extended</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}));</span>
</pre></div>
</div>
</div>
<p>For more information about the registration form, see the  <a class="reference external" href="https://docs.stormpath.com/angularjs/sdk/#/api/stormpath.spRegistrationForm:spRegistrationForm">spRegistrationForm</a> documentation.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user_profile.html" class="btn btn-neutral float-right" title="Create the Profile View">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="login.html" class="btn btn-neutral" title="Create the Login Form"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>